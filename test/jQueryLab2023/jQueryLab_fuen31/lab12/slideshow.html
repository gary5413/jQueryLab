<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>slideshow</title>
  <link rel="stylesheet" href="../style.css">
  <style>
    .wrap{
      background-color: black;
      width: 800px;
      height: 400px;
      margin: 0 auto;
      position: relative;
      overflow: hidden;
    }
    .ul-slide-img{
      position: relative;
      margin: 0;
      padding: 0;
      list-style: none;
      width: 4000px;
      display:flex ;
    }
    .ul-slide-img li{
      width: 800px;
      height: 400px;
    }
    .ul-slide-img li img{
      width: 100%;
      height: 100%;
      /* object-fit: cover; */
    }
    .ul-pages{
      position: absolute;
      /* background-color: red; */
      bottom: 10px;
      width: 100%; 
      margin: 0;
      padding: 0; 
      display: flex;
      justify-content: center;
      list-style: none;
    }
    .ul-pages li{
      width: 20px;
      height: 20px;
      border: 1px solid #fff;
      margin: 0 5px;
      border-radius: 50%;
    } 
    .a-slide-arrow{
      position: absolute;
      width: 30px;
      height: 100%;
      display: flex;
      color: white;
      z-index: 1;
      font-size: 36px;
      cursor: pointer;
      opacity: .6;
      align-items: center;
      justify-content: center;
    }
    .right{
      right: 0;
    }
    .a-slide-arrow:hover{
      opacity: 1;
    }
  </style>
</head>
<body>
  <header>
    <h1>slideshow</h1>
  </header>
  <div class="container">
    <div class="wrap">
      <a class="a-slide-arrow" id="slidePrev"><i class="fa-solid fa-chevron-left"></i
        ></a>
      <a class="a-slide-arrow right" id="slideNext"><i class="fa-solid fa-chevron-right"></i
        ></a>
      <ul class="ul-slide-img" id="slideImg">
        <li><img src="/jQueryLab/main/lab12/imgs/view1.jpg" alt=""></li>
        <li><img src="/jQueryLab/main/lab12/imgs/view2.jpg" alt=""></li>
        <li><img src="/jQueryLab/main/lab12/imgs/view3.jpg" alt=""></li>
        <li><img src="/jQueryLab/main/lab12/imgs/view4.jpg" alt=""></li>
        <li><img src="/jQueryLab/main/lab12/imgs/view5.jpg" alt=""></li>
      </ul>
      <ul class="ul-pages">
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
      </ul>
    </div>
    <script src="../jquery-3.7.1.js"></script>
    <script src="https://kit.fontawesome.com/a260a05f7c.js" crossorigin="anonymous"></script>
   
    <script>
      $(function(){
        // code 
         /*
        1.設定畫框樣式
        2.放第一張圖
        3.放五張圖
        4.設定分頁選項
        5.第一張圖移動
        6.N張圖移動
        7.分頁換色
        8.箭頭設定樣式
        9.箭頭往後移動
        10.箭頭往前
        11.自動輪播
        */

        let index=0;
        let slideMove=0;
        $('.ul-pages li').eq(0).css('background','white');
        $('.ul-pages li').on('mouseenter',function(){
          // console.log('123');
          // $('#slideImg').css('left','-800px');
          // let index=$(this).index();
          index=$(this).index()
          // console.log(index);
          // let slideMove=0-index*800;
          // $('#slideImg').css('left',slideMove);
          // $(this).css('background','white')
          // $(this).css('background','white')
          //   .siblings().css('background','transparent');
          moveImg();
        });

        let slideLiLength = $(".ul-pages li").length;
        console.log(slideLiLength);
        $("#slideNext").on("click", function () {
          // console.log("123");
          index++;
          if (index >= slideLiLength) {
            index = 0;
          }
          // slideMove = 0 - index * 800;
          // $("#slideImg").css("left", slideMove);
          // $(".pages li")
          //   .eq(index)
          //   .css("background", "white")
          //   .siblings()
          //   .css("background", "transparent");
          moveImg();
        });
        $("#slidePrev").on("click", function () {
          index--;
          if (index < 0) {
            index = slideLiLength - 1;
          }
          moveImg();
        });
        // 圖片移動
        function moveImg() {
          slideMove = 0 - index * 800;
          $("#slideImg").css("left", slideMove);
          $(".ul-pages li")
            .eq(index)
            .css("background", "white")
            .siblings()
            .css("background", "transparent");
        }
        setInterval(autoImg, 2000);
        function autoImg() {
          index++;
          if (index >= slideLiLength) {
            index = 0;
          }
          moveImg();
        }



        



      })
    </script>
  </div>
</body>
</html>